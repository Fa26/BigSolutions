

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                 <link rel="shortcut icon" href="../img/GrisU.jpg" type="image/jpg"/> 
                <title>AdministradorIH</title>
            </f:facet>
            <style>
                .pos{margin-left: 200px;}
                .pos2{margin-left: 110px;}
                
                 .color{background-color: black;}
                
            </style>
        </h:head>

        <h:body>

            <p:layout fullPage="true">
                
           

                <p:layoutUnit position="west" size="227"  header="Bienvenido!!" collapsible="true">
                    
                     <h:form>
                          <p:menu>
                        <p:submenu styleClass="color">
                         <p:menuitem value="Inicio" outcome="AdministradorIH.xhtml"  icon="ui-icon-home"></p:menuitem>
                        <p:menuitem value="Registrar Puesto" outcome="RegistrarPIH.xhtml"  icon="ui-icon-pencil"></p:menuitem>
                       <p:menuitem value="Editar  Puesto" outcome="EditarPuesto.xhtml"  icon="ui-icon-note"></p:menuitem>
                       <p:menuitem value="Eliminar Puesto" outcome="ElimiPIH.xhtml"  icon="ui-icon-trash"></p:menuitem>
                        <p:menuitem value="Eliminar Usuario" outcome="EliminarUIH.xhtml"  icon="ui-icon-trash"></p:menuitem>
                          <p:menuitem value="Censurar Comentario" outcome="CensuraCIH.xhtml"  icon="ui-icon-locked"></p:menuitem>
                        <p:menuitem value="Ver Puestos" outcome="VerPuestosIH.xhtml"  icon="ui-icon-folder-open"></p:menuitem>
                        </p:submenu>
                    </p:menu>
                     </h:form>
                </p:layoutUnit>
              
                <!-- layaut del  centro-->
                <p:layoutUnit position="center">
                
                    <h:form id="myForm">
                        
                        <p:growl id="msgs" showDetail="true"/>
                        <!--Muestra los puestos-->
                        <p:dataTable var="p" value="#{verControl.puestos}"  rows="13"  editable="true" paginator="true"  >
                        <f:facet name="header">Tus Puestos</f:facet>
                        
                           <p:ajax event="rowEdit" listener="#{editaC.onRowEdit}" update=":myForm:msgs" />
                            <p:ajax event="rowEditCancel" listener="#{editaC.onRowCancel}" update=":myForm:msgs"  />
                        
                        <p:column headerText="Id"> <h:outputText value="#{p.NIdPuesto}"/> </p:column>
                 
                        
                        <p:column headerText="Apertura" >
                            <p:cellEditor>
                                <f:facet name="output"> <h:outputText value="#{p.horaApertura}"/></f:facet>
                                <f:facet name="input"><p:inputText id="horaApertura" value="#{p.horaApertura}"/></f:facet>
                            </p:cellEditor>
                         </p:column>
                        
                        
                        <p:column headerText="Cierre" >
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.horaCierre}"/></f:facet>
                                <f:facet name="input"><p:inputText value="#{p.horaCierre}"/></f:facet>
                             
                            </p:cellEditor>
                         </p:column>
                        
                         <p:column headerText="Nombre Puesto" >
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.nombre}"/></f:facet>
                                <f:facet name="input"><h:inputText value ="#{p.nombre}"/></f:facet>
                            </p:cellEditor>
                         </p:column>
                        
                        <p:column headerText="Tipo Comida">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.tipoComida}"/></f:facet>
                                <f:facet name="input"><h:inputText value="#{p.tipoComida}"/></f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                        <p:column headerText="DueÃ±o">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.nomDuenio}"/></f:facet>
                                <f:facet name="input"><h:inputText value="#{p.nomDuenio}"/></f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                        <p:column headerText="App">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.appDuenio}"/></f:facet>
                                <f:facet name="input"><h:inputText value="#{p.appDuenio}"/></f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                         <p:column headerText="Apm">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{p.apmDuenio}"/></f:facet>
                                <f:facet name="input"><h:inputText value="#{p.apmDuenio}"/></f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                        
                        
                         <p:column style="width:32px">
                        <p:rowEditor  />
                        </p:column>
                   
                        <f:facet name="footer"> 
                            En total tienes: #{verControl.total()}.
                        </f:facet>
                        
                    </p:dataTable>
                        <br></br>
                        <p:commandButton  oncomplete="redirect()" value="Reload" icon="ui-icon-refresh"/>
                         <script type="text/javascript">
                                redirect=function(){
                                    location.reload(true);
                                }
                                </script> 
                      
                        <p:messages id="messages" autoUpdate="true" closable="true" />
                    </h:form>
                </p:layoutUnit>

            </p:layout>

        </h:body>

    </f:view>
</html>
